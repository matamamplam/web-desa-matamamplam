# Environment Variables - PRODUCTION (Vercel)
# Copy these values to Vercel Dashboard → Project Settings → Environment Variables

# Database (Supabase PostgreSQL)
# IMPORTANT: Use connection_limit=1 for production builds to prevent connection pool exhaustion
# Vercel's build process spawns multiple parallel requests - a low limit prevents timeouts
DATABASE_URL="postgresql://postgres.rjwyazisrouqiahdgeqs:mata_mamplam_2026@aws-1-ap-southeast-2.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"

# Direct connection for migrations (port 5432) - NO pgbouncer
DIRECT_URL="postgresql://postgres.rjwyazisrouqiahdgeqs:mata_mamplam_2026@aws-1-ap-southeast-2.pooler.supabase.com:5432/postgres"

# NextAuth.js
# Penting: Ganti dengan URL domain produksi Anda di Vercel (misal: https://desa-mata-mamplam.vercel.app)
NEXTAUTH_URL="https://matamamplam.my.id"
AUTH_URL="https://matamamplam.my.id"
# CRITICAL: Generate a new secret for production! Use: openssl rand -base64 32
NEXTAUTH_SECRET="vqEvvFwgHFRkZDL198YI7ZnpwWZWViWHuDKz2aK7Rgo="

# Cloudinary
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="dsgizpjxr"
CLOUDINARY_API_KEY="879737839349843"
CLOUDINARY_API_SECRET="o0_o0-IyRS8NIzBdkn-Plk_ESW8"

# Application
NEXT_PUBLIC_APP_NAME="SID Mata Mamplam"
NEXT_PUBLIC_VILLAGE_NAME="Desa Mata Mamplam"
NEXT_PUBLIC_DISTRICT="Kecamatan Peusangan"
NEXT_PUBLIC_REGENCY="Kabupaten Bireuen"
NEXT_PUBLIC_PROVINCE="Provinsi Aceh"

# Production Optimizations
NODE_ENV="production"

# ========================================
# INSTRUCTIONS FOR VERCEL DEPLOYMENT:
# ========================================
# 
# 1. Go to Vercel Dashboard → Your Project → Settings → Environment Variables
# 
# 2. Add each variable above as separate entries:
#    - Key: DATABASE_URL
#    - Value: postgresql://postgres.rjwyazisrouqiahdgeqs:mata_mamplam_2026@aws-1-ap-southeast-2.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1
#    - Environment: Production, Preview, Development (check all)
# 
# 3. BEFORE ADDING, UPDATE THESE VALUES:
#    ✅ NEXTAUTH_URL → Replace with your actual Vercel domain (e.g., https://desa-matamamplam.vercel.app)
#    ✅ NEXTAUTH_SECRET → Generate new: Run in terminal: openssl rand -base64 32
# 
# 4. After adding all variables, trigger a new deployment:
#    - Go to Deployments → Click "..." on latest → "Redeploy"
#    - OR push a new commit to trigger automatic deployment
# 
# 5. Verify deployment:
#    - Check build logs for no Prisma errors
#    - Visit site and verify background image loads
#    - Verify map section displays correctly
# 
# ========================================
